<h1>Books</h1>

<input type="text" [(ngModel)]="searchQuery" (input)="searchBooks()" placeholder="Buscar livro...">

<ul>
  <li *ngFor="let book of books">
    {{ book.title }} - {{ book.author }}
    <button (click)="selecionarBook(book)">Editar</button>
    <button (click)="deletarBook(book.id)">Deletar</button>
  </li>
</ul>

<h2>Adicionar Book</h2>
<form (ngSubmit)="adicionarBook()">
  <label for="title">Título:</label>
  <input type="text" id="title" [(ngModel)]="novoBook.title" name="title">

  <label for="author">Autor:</label>
  <input type="text" id="author" [(ngModel)]="novoBook.author" name="author">

  <button type="submit">Adicionar</button>
</form>

<div *ngIf="bookSelecionado">
  <h2>Editar Book</h2>
  <form (ngSubmit)="atualizarBook()">
    <label for="title">Título:</label>
    <input type="text" id="title" [(ngModel)]="bookSelecionado.title" name="title" required>

    <label for="author">Autor:</label>
    <input type="text" id="author" [(ngModel)]="bookSelecionado.author" name="author" required>

    <button type="submit">Salvar</button>
    <button type="button" (click)="bookSelecionado = null">Cancelar</button>
  </form>
</div>
